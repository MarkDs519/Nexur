{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Routes,Route,BrowserRouter}from'react-router-dom';import Login from'./components/Login';import Register from'./components/Register';import Home from'./components/Home';//import handlerInp from './handler.js'\nimport ChitChat from'./components/ChitChat.js';import PrintR from'./components/PrintR.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var handler=require('./handler.js');function App(){// used to navigate to other pages\n//let navigate = useNavigate();\n// create a dataset for login\nconst[signInData,setSignInData]=useState({username:\"\",password:\"\",usernameValid:false,passwordValid:false,rememberCheckbox:false});const[signUpData,setSignUpData]=useState({firstname:\"\",lastname:\"\",username:\"\",email:\"\",password:\"\",emailValid:false,usernameValid:false,passwordValid:false});// chitchat user data\nconst[chitchatData,setChitChatData]=useState({username:\"\",secret:\"\",email:\"\",firs_tname:\"\",last_name:\"\"});// upload file data\nconst[file,setFile]=useState();// Handle Sign In\nconst signIn=e=>{handler.handleSignInInputChange(e,signInData,setSignInData);};// Sign Up Input Handler\nconst signUp=e=>{handler.handleSignUpInputChange(e,signUpData,setSignUpData);};// handle data insertion to createEngine handler when signing up\nconst handleSignUp=e=>{e.preventDefault();//TODO: add user to Azure Data Server\n// add user to ChatEngine Server\nhandler.addUserChatEngine(e,signUpData);// clear the inputs\nsetSignUpData({firstname:\"\",lastname:\"\",email:\"\",username:\"\",password:\"\",emailValid:false,usernameValid:false,passwordValid:false});};const loginCreateEngine=()=>{chitchatData=handler.addUserChatEngine(signUpData);};// handle file upload\nconst handleFileUpload=event=>{setFile(event.target.files[0]);};// handle file submission\nconst handleFileSubmit=event=>{handler.fileSubmit(event,file);};// add user to Chat Engine\nconst addUserChatEngine=data=>{var data={username:data.username,secret:handlerInp.generateSecretKey(),email:data.email,first_name:data.firstname,last_name:data.lastname};fetch('https://api.chatengine.io/users/',{method:\"POST\",mode:\"cors\",body:JSON.stringify(data),headers:{'Accept':'application/json','Content-Type':'application/json','PRIVATE-KEY':'abc28124-8812-4af4-a446-ad31203abfbe'}}).then(response=>response.json()).then(data=>console.log(\"chitchatdata: \",data)).then(data=>setChitChatData(data)).then(msg=>console.log(\"Message: \",msg)).catch(function(error){console.log(\"Error when inserting data to ChatEngine: \",error);});console.log(\"what i get: \",chitchatData);//setChitChatData(data);\n};// Handle Sign Up\nconst signUpHandler=event=>{event.preventDefault();console.log(\"Uploading info to database...\");fetch(\"/Register/posts\",{method:\"POST\",mode:\"cors\",//redirect: 'follow',\nbody:JSON.stringify(signUpData),headers:{'Accept':'application/json','Content-Type':'application/json'}}).then(response=>response.json()).then(data=>setSignUpData([data]))//.then(data => console.log([data]))\n.then(msg=>console.log(\"Message: \",msg)).catch(error=>console.log(error));console.log(\"Fetching done\");console.log(\"sign up data: \",signUpData);//add user to Chat Engine\naddUserChatEngine(signUpData);// clear the inputs\nsetSignUpData({firstname:\"\",lastname:\"\",email:\"\",username:\"\",password:\"\",emailValid:false,usernameValid:false,passwordValid:false});};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Login,{data:signInData,onChange:signIn})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{data:signInData,onChange:signIn})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{data:signUpData,onChange:signUp,handleSignUp:handleSignUp})}),/*#__PURE__*/_jsx(Route,{path:\"/home\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/chitchat\",element:/*#__PURE__*/_jsx(ChitChat,{login:loginCreateEngine})}),/*#__PURE__*/_jsx(Route,{path:\"/printr\",element:/*#__PURE__*/_jsx(PrintR,{handleFileUpload:handleFileUpload,handleFileSubmit:handleFileSubmit})})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Routes","Route","BrowserRouter","Login","Register","Home","ChitChat","PrintR","jsx","_jsx","jsxs","_jsxs","handler","require","App","signInData","setSignInData","username","password","usernameValid","passwordValid","rememberCheckbox","signUpData","setSignUpData","firstname","lastname","email","emailValid","chitchatData","setChitChatData","secret","firs_tname","last_name","file","setFile","signIn","e","handleSignInInputChange","signUp","handleSignUpInputChange","handleSignUp","preventDefault","addUserChatEngine","loginCreateEngine","handleFileUpload","event","target","files","handleFileSubmit","fileSubmit","data","handlerInp","generateSecretKey","first_name","fetch","method","mode","body","JSON","stringify","headers","then","response","json","console","log","msg","catch","error","signUpHandler","className","children","index","element","onChange","path","login"],"sources":["/Users/markdhrubasikder/Documents/Projects/Nexur/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Routes, Route, BrowserRouter } from 'react-router-dom';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Home from './components/Home';\n//import handlerInp from './handler.js'\nimport ChitChat from './components/ChitChat.js';\nimport PrintR from './components/PrintR.js';\n\nvar handler = require('./handler.js');\n\nfunction App() {\n  // used to navigate to other pages\n  //let navigate = useNavigate();\n  // create a dataset for login\n  const [signInData, setSignInData] = useState({\n    username: \"\",\n    password: \"\",\n    usernameValid: false,\n    passwordValid: false,\n    rememberCheckbox: false\n  })\n\n  const [signUpData, setSignUpData] = useState({\n    firstname: \"\",\n    lastname: \"\",\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    emailValid: false,\n    usernameValid: false,\n    passwordValid: false\n  })\n\n  // chitchat user data\n  const [chitchatData, setChitChatData] = useState({\n    username: \"\",\n    secret: \"\",\n    email: \"\",\n    firs_tname: \"\",\n    last_name: \"\"\n  });\n\n  // upload file data\n  const [file, setFile] = useState();\n\n  // Handle Sign In\n  const signIn = e => {\n    handler.handleSignInInputChange(e, signInData, setSignInData);\n  }\n\n  // Sign Up Input Handler\n  const signUp = (e) => {\n    handler.handleSignUpInputChange(e, signUpData, setSignUpData);\n  }\n\n  // handle data insertion to createEngine handler when signing up\n  const handleSignUp = (e) => {\n    e.preventDefault();\n    //TODO: add user to Azure Data Server\n\n    // add user to ChatEngine Server\n    handler.addUserChatEngine(e, signUpData);\n    // clear the inputs\n    setSignUpData({\n      firstname: \"\",\n      lastname: \"\",\n      email: \"\",\n      username: \"\",\n      password: \"\",\n      emailValid: false,\n      usernameValid: false,\n      passwordValid: false\n    });\n\n  }\n\n  const loginCreateEngine = () => {\n    chitchatData = handler.addUserChatEngine(signUpData);\n  }\n\n  // handle file upload\n  const handleFileUpload = (event) => {\n    setFile(event.target.files[0]);\n  }\n\n  // handle file submission\n  const handleFileSubmit = (event) => {\n    handler.fileSubmit(event, file);\n\n  }\n\n  // add user to Chat Engine\n  const addUserChatEngine = (data) => {\n    var data = {\n      username: data.username,\n      secret: handlerInp.generateSecretKey(),\n      email: data.email,\n      first_name: data.firstname,\n      last_name: data.lastname\n    };\n    \n    fetch('https://api.chatengine.io/users/', {\n      method: \"POST\",\n      mode: \"cors\",\n      body: JSON.stringify(data),\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'PRIVATE-KEY': 'abc28124-8812-4af4-a446-ad31203abfbe'\n        }\n    })\n    .then(response => response.json())\n    .then(data => console.log(\"chitchatdata: \", data))\n    .then(data => setChitChatData(data))\n    .then(msg => console.log(\"Message: \", msg))\n    .catch(function (error) {\n      console.log(\"Error when inserting data to ChatEngine: \", error);\n    });\n    console.log(\"what i get: \", chitchatData);\n    //setChitChatData(data);\n  }\n\n  // Handle Sign Up\n  const signUpHandler = (event) => {\n      event.preventDefault();\n      console.log(\"Uploading info to database...\")\n      fetch(\"/Register/posts\", {\n        method: \"POST\",\n        mode: \"cors\", \n        //redirect: 'follow',\n        body: JSON.stringify(signUpData),\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      })\n      .then(response => response.json())\n      .then(data => setSignUpData([data]))\n      //.then(data => console.log([data]))\n      .then(msg => console.log(\"Message: \", msg))\n      .catch(error => console.log(error))\n  \n      console.log(\"Fetching done\")\n      console.log(\"sign up data: \", signUpData);\n      //add user to Chat Engine\n      addUserChatEngine(signUpData);\n      // clear the inputs\n      setSignUpData({\n          firstname: \"\",\n          lastname: \"\",\n          email: \"\",\n          username: \"\",\n          password: \"\",\n          emailValid: false,\n          usernameValid: false,\n          passwordValid: false\n      });\n  }\n\n\n\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <Routes>\n          <Route index element={<Login data={signInData} onChange={signIn}/>} />\n          <Route path='/login' element={<Login data={signInData} onChange={signIn}/>}/>\n          <Route path=\"/register\" element={<Register data={signUpData} onChange={signUp} handleSignUp={handleSignUp}/>} />\n          <Route path='/home' element={<Home/>}/>\n          <Route path='/chitchat' element={<ChitChat login={loginCreateEngine}/>}/>\n          <Route path='/printr' element={<PrintR handleFileUpload={handleFileUpload} handleFileSubmit={handleFileSubmit}/>}/>\n        </Routes>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}