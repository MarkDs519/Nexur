{"ast":null,"code":"var _jsxFileName = \"/Users/markdhrubasikder/Documents/Projects/Nexur/frontend/src/components/tictactoe/game.js\",\n  _s = $RefreshSig$();\nimport React, { useReducer } from \"react\";\nimport Board from \"./board.js\";\nimport Styles from \"../../css/styles.js\";\n\n// reducer function\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'MOVE':\n      return {\n        ...state,\n        history: state.history.concat({\n          squares: action.payload.squares\n        }),\n        // change the state\n        xIsNext: !state.xIsNext\n      };\n    case 'NEW GAME':\n      return {\n        xIsNext: true,\n        history: [{\n          squares: Array(9).fill(null)\n        }]\n      };\n    default:\n      return state;\n  }\n};\nconst winController = squares => {\n  let winningLines = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n  let isDraw = true;\n  for (let i = 0; i < winningLines.length; i++) {\n    let [a, b, c] = winningLines[i];\n    if (squares[a] && squares[a] == squares[b] && squares[b] == squares[c]) {\n      return squares[a];\n    }\n    if (!squares[a] || !squares[b] || !squares[c]) {\n      isDraw = false;\n    }\n  }\n  if (isDraw) {\n    return 'D';\n  }\n  return null;\n};\nfunction Game() {\n  _s();\n  const [state, dispatch] = useReducer(reducer, {\n    xIsNext: true,\n    history: [{\n      squares: Array(9).fill(null)\n    }]\n  });\n  const {\n    xIsNext,\n    history\n  } = state;\n\n  // handle squares click\n  const handleClick = i => {\n    // get the last item in the history\n    let current = history[history.length - 1];\n    let squares = current.squares.slice();\n    let winner = winController(squares);\n    // when the square is already occupied return nothing\n    if (winner || squares[i]) {\n      return;\n    }\n    squares[i] = xIsNext ? 'X' : 'O';\n    //console.log('Square: ', squares[i]);\n    // get the last clicked square\n    dispatch({\n      type: 'MOVE',\n      payload: {\n        squares\n      }\n    });\n  };\n\n  // start new game\n  const handleStartNewGame = () => {\n    dispatch({\n      type: 'NEW GAME',\n      payload: {\n        history\n      }\n    });\n  };\n  const handleGoBack = () => {\n    return;\n  };\n  let current = history[history.length - 1];\n  // check for win \n  const winner = winController(current.squares);\n  const playreStatus = winner ? winner === 'D' ? 'Draw' : winner + ' Wins!' : 'Next Player is ' + (xIsNext ? 'X' : 'O');\n  let StartButton = Styles().startBtn;\n  //console.log(current.squares);\n  let moveLog = history.map((step, move) => {\n    //console.log('Step: ', step);\n    let log = move ? 'Go to step ' + move : 'Waiting for player to make the move..';\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(StartButton, {\n        children: log\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this)\n    }, move, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: winner ? \"game disabled\" : \"game\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-board\",\n      children: [/*#__PURE__*/_jsxDEV(Board, {\n        onClick: i => handleClick(i),\n        squares: current.squares\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"start-btn\",\n        children: /*#__PURE__*/_jsxDEV(StartButton, {\n          onClick: () => handleStartNewGame(),\n          children: \"Start New Game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: playreStatus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: moveLog\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 9\n  }, this);\n}\n_s(Game, \"R0gTDfLBjftRGphYrBFkNXNgUy0=\");\n_c = Game;\nexport default Game;\nvar _c;\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"names":["React","useReducer","Board","Styles","jsxDEV","_jsxDEV","reducer","state","action","type","history","concat","squares","payload","xIsNext","Array","fill","winController","winningLines","isDraw","i","length","a","b","c","Game","_s","dispatch","handleClick","current","slice","winner","handleStartNewGame","handleGoBack","playreStatus","StartButton","startBtn","moveLog","map","step","move","log","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","_c","$RefreshReg$"],"sources":["/Users/markdhrubasikder/Documents/Projects/Nexur/frontend/src/components/tictactoe/game.js"],"sourcesContent":["import React, { useReducer } from \"react\";\nimport Board from \"./board.js\";\nimport Styles from \"../../css/styles.js\";\n\n\n// reducer function\nconst reducer = (state, action) => {\n    switch(action.type){\n        case 'MOVE': return {\n            ...state,\n            history: state.history.concat(\n                {squares: action.payload.squares}\n            ),\n            // change the state\n            xIsNext: !state.xIsNext,\n        }\n        case 'NEW GAME': return {\n            xIsNext: true,\n            history: [{squares: Array(9).fill(null)}]\n        }\n        default:\n            return state;\n    }\n}\n\nconst winController = (squares) => {\n    let winningLines = [\n        [0, 1, 2],\n        [3, 4, 5],\n        [6, 7, 8],\n        [1, 4, 7],\n        [2, 5, 8],\n        [0, 4, 8],\n        [2, 4, 6]\n    ]\n    let isDraw = true;\n    for(let i=0; i < winningLines.length; i++) {\n        let [a, b, c] = winningLines[i];\n        if (squares[a] && squares[a] == squares[b] && squares[b] == squares[c]){\n            return squares[a]\n        }  \n        if (!squares[a] || !squares[b] || !squares[c]){\n            isDraw= false;\n        }\n    }\n    if (isDraw){\n        return 'D'\n    }\n    return null;\n}\n\nfunction Game (){\n    \n    const [state, dispatch] = useReducer(reducer, {\n        xIsNext: true,\n        history: [{squares: Array(9).fill(null)}]\n\n    })\n    const {xIsNext, history} = state;\n\n    // handle squares click\n    const handleClick = (i) => {\n        // get the last item in the history\n        let current = history[history.length-1];\n        let squares = current.squares.slice();\n        let winner = winController(squares);\n        // when the square is already occupied return nothing\n        if ( winner || squares[i]){\n            return;\n        }\n        squares[i] = xIsNext ? 'X' : 'O' ;\n        //console.log('Square: ', squares[i]);\n        // get the last clicked square\n        dispatch({\n            type: 'MOVE',\n            payload: {squares}\n        });\n    }\n\n    // start new game\n    const handleStartNewGame = () => {\n        dispatch({\n            type: 'NEW GAME',\n            payload: {history}\n        })\n    }\n\n    const handleGoBack = () => {\n        return;\n    }\n    \n    let current = history[history.length-1]\n    // check for win \n    const winner = winController(current.squares);\n    const playreStatus = winner ? winner === 'D' ? 'Draw' :  winner + ' Wins!' : 'Next Player is ' + (xIsNext ? 'X' : 'O');\n    let StartButton = Styles().startBtn;\n    //console.log(current.squares);\n    let moveLog = history.map((step, move) => {\n        //console.log('Step: ', step);\n        let log = move ? 'Go to step ' + move : 'Waiting for player to make the move..' \n        return(\n                <li key={move}>\n                    <StartButton>{log}</StartButton>\n                </li>\n            )   \n        }\n    )\n    return(\n        <div className={winner?\"game disabled\":\"game\"}>\n            <div className=\"game-board\">\n                <Board \n                    onClick={(i) => handleClick(i)} \n                    squares={current.squares}\n                >\n                </Board>\n                <div className=\"start-btn\">\n                    <StartButton onClick={() => handleStartNewGame()}>Start New Game</StartButton>\n            </div>\n            </div>\n            <div className=\"game-info\">\n                <div>{playreStatus}</div>\n                <ul>\n                    {moveLog}\n                </ul>\n            </div>\n        </div>\n    )\n}\n\nexport default Game;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,OAAOC,KAAK,MAAM,YAAY;AAC9B,OAAOC,MAAM,MAAM,qBAAqB;;AAGxC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,OAAO,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EAC/B,QAAOA,MAAM,CAACC,IAAI;IACd,KAAK,MAAM;MAAE,OAAO;QAChB,GAAGF,KAAK;QACRG,OAAO,EAAEH,KAAK,CAACG,OAAO,CAACC,MAAM,CACzB;UAACC,OAAO,EAAEJ,MAAM,CAACK,OAAO,CAACD;QAAO,CACpC,CAAC;QACD;QACAE,OAAO,EAAE,CAACP,KAAK,CAACO;MACpB,CAAC;IACD,KAAK,UAAU;MAAE,OAAO;QACpBA,OAAO,EAAE,IAAI;QACbJ,OAAO,EAAE,CAAC;UAACE,OAAO,EAAEG,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI;QAAC,CAAC;MAC5C,CAAC;IACD;MACI,OAAOT,KAAK;EACpB;AACJ,CAAC;AAED,MAAMU,aAAa,GAAIL,OAAO,IAAK;EAC/B,IAAIM,YAAY,GAAG,CACf,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACT,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACT,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACT,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACT,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACT,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACT,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CACZ;EACD,IAAIC,MAAM,GAAG,IAAI;EACjB,KAAI,IAAIC,CAAC,GAAC,CAAC,EAAEA,CAAC,GAAGF,YAAY,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;IACvC,IAAI,CAACE,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC,GAAGN,YAAY,CAACE,CAAC,CAAC;IAC/B,IAAIR,OAAO,CAACU,CAAC,CAAC,IAAIV,OAAO,CAACU,CAAC,CAAC,IAAIV,OAAO,CAACW,CAAC,CAAC,IAAIX,OAAO,CAACW,CAAC,CAAC,IAAIX,OAAO,CAACY,CAAC,CAAC,EAAC;MACnE,OAAOZ,OAAO,CAACU,CAAC,CAAC;IACrB;IACA,IAAI,CAACV,OAAO,CAACU,CAAC,CAAC,IAAI,CAACV,OAAO,CAACW,CAAC,CAAC,IAAI,CAACX,OAAO,CAACY,CAAC,CAAC,EAAC;MAC1CL,MAAM,GAAE,KAAK;IACjB;EACJ;EACA,IAAIA,MAAM,EAAC;IACP,OAAO,GAAG;EACd;EACA,OAAO,IAAI;AACf,CAAC;AAED,SAASM,IAAIA,CAAA,EAAG;EAAAC,EAAA;EAEZ,MAAM,CAACnB,KAAK,EAAEoB,QAAQ,CAAC,GAAG1B,UAAU,CAACK,OAAO,EAAE;IAC1CQ,OAAO,EAAE,IAAI;IACbJ,OAAO,EAAE,CAAC;MAACE,OAAO,EAAEG,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI;IAAC,CAAC;EAE5C,CAAC,CAAC;EACF,MAAM;IAACF,OAAO;IAAEJ;EAAO,CAAC,GAAGH,KAAK;;EAEhC;EACA,MAAMqB,WAAW,GAAIR,CAAC,IAAK;IACvB;IACA,IAAIS,OAAO,GAAGnB,OAAO,CAACA,OAAO,CAACW,MAAM,GAAC,CAAC,CAAC;IACvC,IAAIT,OAAO,GAAGiB,OAAO,CAACjB,OAAO,CAACkB,KAAK,CAAC,CAAC;IACrC,IAAIC,MAAM,GAAGd,aAAa,CAACL,OAAO,CAAC;IACnC;IACA,IAAKmB,MAAM,IAAInB,OAAO,CAACQ,CAAC,CAAC,EAAC;MACtB;IACJ;IACAR,OAAO,CAACQ,CAAC,CAAC,GAAGN,OAAO,GAAG,GAAG,GAAG,GAAG;IAChC;IACA;IACAa,QAAQ,CAAC;MACLlB,IAAI,EAAE,MAAM;MACZI,OAAO,EAAE;QAACD;MAAO;IACrB,CAAC,CAAC;EACN,CAAC;;EAED;EACA,MAAMoB,kBAAkB,GAAGA,CAAA,KAAM;IAC7BL,QAAQ,CAAC;MACLlB,IAAI,EAAE,UAAU;MAChBI,OAAO,EAAE;QAACH;MAAO;IACrB,CAAC,CAAC;EACN,CAAC;EAED,MAAMuB,YAAY,GAAGA,CAAA,KAAM;IACvB;EACJ,CAAC;EAED,IAAIJ,OAAO,GAAGnB,OAAO,CAACA,OAAO,CAACW,MAAM,GAAC,CAAC,CAAC;EACvC;EACA,MAAMU,MAAM,GAAGd,aAAa,CAACY,OAAO,CAACjB,OAAO,CAAC;EAC7C,MAAMsB,YAAY,GAAGH,MAAM,GAAGA,MAAM,KAAK,GAAG,GAAG,MAAM,GAAIA,MAAM,GAAG,QAAQ,GAAG,iBAAiB,IAAIjB,OAAO,GAAG,GAAG,GAAG,GAAG,CAAC;EACtH,IAAIqB,WAAW,GAAGhC,MAAM,CAAC,CAAC,CAACiC,QAAQ;EACnC;EACA,IAAIC,OAAO,GAAG3B,OAAO,CAAC4B,GAAG,CAAC,CAACC,IAAI,EAAEC,IAAI,KAAK;IACtC;IACA,IAAIC,GAAG,GAAGD,IAAI,GAAG,aAAa,GAAGA,IAAI,GAAG,uCAAuC;IAC/E,oBACQnC,OAAA;MAAAqC,QAAA,eACIrC,OAAA,CAAC8B,WAAW;QAAAO,QAAA,EAAED;MAAG;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAc;IAAC,GAD3BN,IAAI;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAET,CAAC;EAEb,CACJ,CAAC;EACD,oBACIzC,OAAA;IAAK0C,SAAS,EAAEhB,MAAM,GAAC,eAAe,GAAC,MAAO;IAAAW,QAAA,gBAC1CrC,OAAA;MAAK0C,SAAS,EAAC,YAAY;MAAAL,QAAA,gBACvBrC,OAAA,CAACH,KAAK;QACF8C,OAAO,EAAG5B,CAAC,IAAKQ,WAAW,CAACR,CAAC,CAAE;QAC/BR,OAAO,EAAEiB,OAAO,CAACjB;MAAQ;QAAA+B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEtB,CAAC,eACRzC,OAAA;QAAK0C,SAAS,EAAC,WAAW;QAAAL,QAAA,eACtBrC,OAAA,CAAC8B,WAAW;UAACa,OAAO,EAAEA,CAAA,KAAMhB,kBAAkB,CAAC,CAAE;UAAAU,QAAA,EAAC;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAa;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,eACNzC,OAAA;MAAK0C,SAAS,EAAC,WAAW;MAAAL,QAAA,gBACtBrC,OAAA;QAAAqC,QAAA,EAAMR;MAAY;QAAAS,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACzBzC,OAAA;QAAAqC,QAAA,EACKL;MAAO;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd;AAACpB,EAAA,CA5EQD,IAAI;AAAAwB,EAAA,GAAJxB,IAAI;AA8Eb,eAAeA,IAAI;AAAC,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}