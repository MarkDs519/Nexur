{"ast":null,"code":"var _jsxFileName = \"/Users/markdhrubasikder/Documents/Projects/GitHub/Nexur/frontend/src/components/tictactoe/game.js\",\n  _s = $RefreshSig$();\nimport React, { useReducer } from \"react\";\nimport Board from \"./board.js\";\nimport Styles from \"../../css/styles.js\";\nimport KeyboardArrowLeft from '@mui/icons-material/KeyboardArrowLeft';\nimport { useNavigate } from \"react-router-dom\";\nimport Navbar from \"../Navbar.js\";\n\n// reducer function\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'MOVE':\n      return {\n        ...state,\n        history: state.history.concat({\n          squares: action.payload.squares\n        }),\n        // change the state\n        xIsNext: !state.xIsNext\n      };\n    case 'NEW GAME':\n      return {\n        xIsNext: true,\n        history: [{\n          squares: Array(9).fill(null)\n        }]\n      };\n    default:\n      return state;\n  }\n};\nconst winController = squares => {\n  let winningLines = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n  let isDraw = true;\n  for (let i = 0; i < winningLines.length; i++) {\n    let [a, b, c] = winningLines[i];\n    if (squares[a] && squares[a] == squares[b] && squares[b] == squares[c]) {\n      return squares[a];\n    }\n    if (!squares[a] || !squares[b] || !squares[c]) {\n      isDraw = false;\n    }\n  }\n  if (isDraw) {\n    return 'D';\n  }\n  return null;\n};\nfunction Game() {\n  _s();\n  const navigate = useNavigate();\n  const [state, dispatch] = useReducer(reducer, {\n    xIsNext: true,\n    history: [{\n      squares: Array(9).fill(null)\n    }]\n  });\n  const {\n    xIsNext,\n    history\n  } = state;\n\n  // handle squares click\n  const handleClick = i => {\n    // get the last item in the history\n    let current = history[history.length - 1];\n    let squares = current.squares.slice();\n    let winner = winController(squares);\n    // when the square is already occupied return nothing\n    if (winner || squares[i]) {\n      return;\n    }\n    squares[i] = xIsNext ? 'X' : 'O';\n    //console.log('Square: ', squares[i]);\n    // get the last clicked square\n    dispatch({\n      type: 'MOVE',\n      payload: {\n        squares\n      }\n    });\n  };\n\n  // start new game\n  const handleStartNewGame = () => {\n    dispatch({\n      type: 'NEW GAME',\n      payload: {\n        history\n      }\n    });\n  };\n  let current = history[history.length - 1];\n  // check for win \n  const winner = winController(current.squares);\n  const playreStatus = winner ? winner === 'D' ? 'Draw' : winner + ' Wins!' : 'Next Player is ' + (xIsNext ? 'X' : 'O');\n  let StartButton = Styles().startBtn;\n  let BackButton = Styles().backBtn;\n  //console.log(current.squares);\n  let moveLog = history.map((step, move) => {\n    //console.log('Step: ', step);\n    let log = move ? 'Go to step ' + move : 'Waiting for player to make the move..';\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(StartButton, {\n        children: log\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }, this)\n    }, move, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: winner ? \"game disabled\" : \"game\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-board\",\n        children: [/*#__PURE__*/_jsxDEV(Board, {\n          onClick: i => handleClick(i),\n          squares: current.squares\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"start-btn\",\n          children: /*#__PURE__*/_jsxDEV(StartButton, {\n            onClick: () => handleStartNewGame(),\n            children: \"Start New Game\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-info\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: playreStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 9\n  }, this);\n}\n_s(Game, \"lbWfBhL+IaM08CLDirQX6qW742g=\", false, function () {\n  return [useNavigate];\n});\n_c = Game;\nexport default Game;\nvar _c;\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"names":["React","useReducer","Board","Styles","KeyboardArrowLeft","useNavigate","Navbar","jsxDEV","_jsxDEV","reducer","state","action","type","history","concat","squares","payload","xIsNext","Array","fill","winController","winningLines","isDraw","i","length","a","b","c","Game","_s","navigate","dispatch","handleClick","current","slice","winner","handleStartNewGame","playreStatus","StartButton","startBtn","BackButton","backBtn","moveLog","map","step","move","log","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","_c","$RefreshReg$"],"sources":["/Users/markdhrubasikder/Documents/Projects/GitHub/Nexur/frontend/src/components/tictactoe/game.js"],"sourcesContent":["import React, { useReducer } from \"react\";\nimport Board from \"./board.js\";\nimport Styles from \"../../css/styles.js\";\nimport KeyboardArrowLeft from '@mui/icons-material/KeyboardArrowLeft';\nimport { useNavigate } from \"react-router-dom\";\nimport Navbar from \"../Navbar.js\";\n\n\n// reducer function\nconst reducer = (state, action) => {\n    switch(action.type){\n        case 'MOVE': return {\n            ...state,\n            history: state.history.concat(\n                {squares: action.payload.squares}\n            ),\n            // change the state\n            xIsNext: !state.xIsNext,\n        }\n        case 'NEW GAME': return {\n            xIsNext: true,\n            history: [{squares: Array(9).fill(null)}]\n        }\n        default:\n            return state;\n    }\n}\n\nconst winController = (squares) => {\n    let winningLines = [\n        [0, 1, 2],\n        [3, 4, 5],\n        [6, 7, 8],\n        [1, 4, 7],\n        [2, 5, 8],\n        [0, 4, 8],\n        [2, 4, 6]\n    ]\n    let isDraw = true;\n    for(let i=0; i < winningLines.length; i++) {\n        let [a, b, c] = winningLines[i];\n        if (squares[a] && squares[a] == squares[b] && squares[b] == squares[c]){\n            return squares[a]\n        }  \n        if (!squares[a] || !squares[b] || !squares[c]){\n            isDraw= false;\n        }\n    }\n    if (isDraw){\n        return 'D'\n    }\n    return null;\n}\n\nfunction Game (){\n    const navigate = useNavigate();\n    \n    const [state, dispatch] = useReducer(reducer, {\n        xIsNext: true,\n        history: [{squares: Array(9).fill(null)}]\n\n    })\n    const {xIsNext, history} = state;\n\n    // handle squares click\n    const handleClick = (i) => {\n        // get the last item in the history\n        let current = history[history.length-1];\n        let squares = current.squares.slice();\n        let winner = winController(squares);\n        // when the square is already occupied return nothing\n        if ( winner || squares[i]){\n            return;\n        }\n        squares[i] = xIsNext ? 'X' : 'O' ;\n        //console.log('Square: ', squares[i]);\n        // get the last clicked square\n        dispatch({\n            type: 'MOVE',\n            payload: {squares}\n        });\n    }\n\n    // start new game\n    const handleStartNewGame = () => {\n        dispatch({\n            type: 'NEW GAME',\n            payload: {history}\n        })\n    }\n\n    \n    let current = history[history.length-1]\n    // check for win \n    const winner = winController(current.squares);\n    const playreStatus = winner ? winner === 'D' ? 'Draw' :  winner + ' Wins!' : 'Next Player is ' + (xIsNext ? 'X' : 'O');\n    let StartButton = Styles().startBtn;\n    let BackButton = Styles().backBtn;\n    //console.log(current.squares);\n    let moveLog = history.map((step, move) => {\n        //console.log('Step: ', step);\n        let log = move ? 'Go to step ' + move : 'Waiting for player to make the move..' \n        return(\n                <li key={move}>\n                    <StartButton>{log}</StartButton>\n                </li>\n            )   \n        }\n    )\n    return(\n        <div>\n            <Navbar></Navbar>\n        <div className={winner?\"game disabled\":\"game\"}>\n            <div className=\"game-board\">\n                <Board \n                    onClick={(i) => handleClick(i)} \n                    squares={current.squares}\n                >\n                </Board>\n                <div className=\"start-btn\">\n                    <StartButton onClick={() => handleStartNewGame()}>Start New Game</StartButton>\n                </div>\n            </div>\n            <div className=\"game-info\">\n                <div>{playreStatus}</div>\n            </div>\n        </div>\n        </div>\n        \n    )\n}\n\nexport default Game;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}