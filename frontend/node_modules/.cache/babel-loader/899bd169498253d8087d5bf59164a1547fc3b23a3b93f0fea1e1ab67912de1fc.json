{"ast":null,"code":"// handler api\n\nconst handlerapi = creds => {\n  let params = {\n    ccPrivateKey: creds.privateKey\n  };\n  var validator = require('./validator.js');\n  var validate = validator();\n  // handler function\n  var handlerInp = {\n    params: params,\n    // get request to fetch the URL with the parameters \n    get: async (url, params) => {\n      try {\n        let res = await fetch(url, params);\n        let result = res.json();\n        console.log(\"Result: \", result);\n        console.log(\"Successfully fetched \", url, \"with parameters \", params);\n        return result;\n      } catch (err) {\n        console.log(\"Failed to fetch \", url, \"with parameters \", params);\n        console.log(err);\n      }\n      return false;\n    },\n    // connect to azure database server\n    connectAzureServer: async data => {\n      let parameters = {\n        method: \"POST\",\n        mode: \"cors\",\n        //redirect: 'follow',\n        body: JSON.stringify(data),\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      };\n      let response = await handlerInp.get(\"/Register/posts\", parameters);\n      return response;\n    },\n    // add user to Azure db\n    addUserAzure: async (signUpData, setSignUpData) => {\n      try {\n        let response = await handlerInp.connectAzureServer(signUpData);\n        setSignUpData([response]);\n        //console.log(signUpData);\n        return signUpData;\n      } catch (err) {\n        console.log(\"Failed to insert data to Azure - \", err);\n      }\n      return false;\n    },\n    // file upload handler\n    fileSubmit: async (event, file) => {\n      event.preventDefault();\n      try {\n        const formData = new FormData();\n        formData.append('file', file);\n        //console.log(\"Successfully added file: \", file);\n        //formData.append('fileName', file.name);\n        console.log(formData);\n        const parameters = {\n          method: \"POST\",\n          mode: \"cors\",\n          body: JSON.stringify(formData),\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'multipart/form-data'\n          }\n        };\n        let response = await handlerInp.get('/printr/uploadFile', parameters);\n        console.log(response);\n        return response;\n      } catch (err) {\n        console.log(\"Failed to Upload file - \", err);\n      }\n      return false;\n    },\n    // sign in handler\n    handleSignInInputChange: (event, signInData, setData) => {\n      event.preventDefault();\n      // change the state as the user types in the data and simultaneously insert the values inside the state\n      const newData = {\n        ...signInData\n      };\n      // USERNAME VALIDATION\n      if (event.target.name === \"username\") {\n        if (validate.isValidUsername(event) === true) {\n          newData[event.target.name] = event.target.value;\n          // set username valid to true\n          newData[\"usernameValid\"] = true;\n        } else {\n          newData[\"usernameValid\"] = false;\n        }\n      }\n\n      // PASSWORD VALIDATION\n      if (event.target.name === \"password\") {\n        if (validate.isValidPassword(event) === true) {\n          newData[event.target.name] = event.target.value;\n          // set username valid to true\n          newData[\"passwordValid\"] = true;\n        } else {\n          newData[\"passwordValid\"] = false;\n        }\n      }\n\n      // check if Remember me checkboc is checked and set the state of the checkbox to true\n      event.target.name === \"rememberCheckbox\" ? newData[event.target.name] = event.target.checked : newData[event.target.name] = event.target.value;\n      console.log(newData);\n      setData(newData);\n    },\n    // sign up handler\n    handleSignUpInputChange: (event, signUpData, setData) => {\n      event.preventDefault();\n      const newSignUpData = {\n        ...signUpData\n      };\n      // EMAIL VALIDATION\n      if (event.target.name === \"email\") {\n        if (validate.isValidEmail(event) === true) {\n          newSignUpData[event.target.name] = event.target.value;\n          newSignUpData[\"emailValid\"] = true;\n        } else {\n          console.log(\"Length of email: \", newSignUpData[event.target.name].length);\n          newSignUpData[\"emailValid\"] = false;\n        }\n      }\n\n      // USERNAME VALIDATION\n      if (event.target.name === \"username\") {\n        if (validate.isValidUsername(event) === true) {\n          newSignUpData[event.target.name] = event.target.value;\n          // set username valid to true\n          newSignUpData[\"usernameValid\"] = true;\n        } else {\n          newSignUpData[\"usernameValid\"] = false;\n        }\n      }\n\n      // PASSWORD VALIDATION\n      if (event.target.name === \"password\") {\n        if (validate.isValidPassword(event) === true) {\n          newSignUpData[event.target.name] = event.target.value;\n          // set username valid to true\n          newSignUpData[\"passwordValid\"] = true;\n        } else {\n          newSignUpData[\"passwordValid\"] = false;\n        }\n      }\n\n      // for all other things\n      newSignUpData[event.target.name] = event.target.value;\n      //console.log(newSignUpData);\n      setData(newSignUpData);\n      //return newSignUpData;  \n    },\n    generateSecretKey: () => {\n      let secret = (Math.random() + 1).toString(36).substring(2);\n      return secret;\n    }\n  };\n  return handlerInp;\n};\nmodule.exports = handlerapi;","map":{"version":3,"names":["handlerapi","creds","params","ccPrivateKey","privateKey","validator","require","validate","handlerInp","get","url","res","fetch","result","json","console","log","err","connectAzureServer","data","parameters","method","mode","body","JSON","stringify","headers","response","addUserAzure","signUpData","setSignUpData","fileSubmit","event","file","preventDefault","formData","FormData","append","handleSignInInputChange","signInData","setData","newData","target","name","isValidUsername","value","isValidPassword","checked","handleSignUpInputChange","newSignUpData","isValidEmail","length","generateSecretKey","secret","Math","random","toString","substring","module","exports"],"sources":["/Users/markdhrubasikder/Documents/Projects/GitHub/Nexur/frontend/src/handler.api.js"],"sourcesContent":["// handler api\n\nconst handlerapi = (creds) => {\n    let params = {\n        ccPrivateKey: creds.privateKey\n    }\n    var validator = require('./validator.js');\n    var validate = validator();\n    // handler function\n    var handlerInp = {\n        params: params,\n        // get request to fetch the URL with the parameters \n        get: async(url, params) => {\n            try{\n                let res = await fetch(url, params);\n                let result = res.json();\n                console.log(\"Result: \", result);\n                console.log(\"Successfully fetched \", url, \"with parameters \", params);\n                return result;\n            }\n            catch(err){\n                console.log(\"Failed to fetch \", url, \"with parameters \", params);\n                console.log(err);\n            }\n            return false;\n        },\n        // connect to azure database server\n        connectAzureServer: async(data) => {\n            let parameters = {\n                method: \"POST\",\n                mode: \"cors\", \n                //redirect: 'follow',\n                body: JSON.stringify(data),\n                headers: {\n                  'Accept': 'application/json',\n                  'Content-Type': 'application/json'\n                }\n            };\n            let response = await handlerInp.get(\"/Register/posts\", parameters);\n            return response;\n        },\n\n        // add user to Azure db\n        addUserAzure: async(signUpData, setSignUpData) => {\n            try{\n                let response = await handlerInp.connectAzureServer(signUpData);\n                setSignUpData([response]);\n                //console.log(signUpData);\n                return signUpData;\n            }\n            catch(err){\n                console.log(\"Failed to insert data to Azure - \", err);\n            }\n            return false;\n        },\n\n        // file upload handler\n        fileSubmit: async(event, file) => {\n            event.preventDefault();\n            try{\n                const formData = new FormData();\n                formData.append('file', file);\n                //console.log(\"Successfully added file: \", file);\n                //formData.append('fileName', file.name);\n                console.log(formData);\n                const parameters = {\n                    method: \"POST\",\n                    mode: \"cors\", \n                    body: JSON.stringify(formData),\n                    headers: {\n                        'Accept': 'application/json',\n                        'Content-Type': 'multipart/form-data',\n                    },\n                };\n                let response = await handlerInp.get('/printr/uploadFile', parameters);\n                console.log(response);\n                return response;\n            }catch(err){\n                console.log(\"Failed to Upload file - \", err);\n            }\n            return false;\n            \n        },\n\n        // sign in handler\n        handleSignInInputChange: (event, signInData, setData) => {\n            event.preventDefault();\n            // change the state as the user types in the data and simultaneously insert the values inside the state\n            const newData = {...signInData};\n            // USERNAME VALIDATION\n            if(event.target.name === \"username\"){\n                if(validate.isValidUsername(event)===true){\n                    newData[event.target.name] = event.target.value;\n                    // set username valid to true\n                    newData[\"usernameValid\"] = true;\n                }\n                else{\n                    newData[\"usernameValid\"] = false;\n                }\n            }\n\n            // PASSWORD VALIDATION\n            if(event.target.name === \"password\"){\n                if(validate.isValidPassword(event)===true){\n                    newData[event.target.name] = event.target.value;\n                    // set username valid to true\n                    newData[\"passwordValid\"] = true;\n                }\n                else{\n                    newData[\"passwordValid\"] = false;\n                }\n            }\n\n            // check if Remember me checkboc is checked and set the state of the checkbox to true\n            event.target.name === \"rememberCheckbox\" ? newData[event.target.name] = event.target.checked : newData[event.target.name] = event.target.value;\n            console.log(newData);\n            setData(newData);\n        },\n        // sign up handler\n        handleSignUpInputChange: (event, signUpData, setData) => {\n            event.preventDefault();\n            const newSignUpData = {...signUpData};\n            // EMAIL VALIDATION\n            if(event.target.name === \"email\"){\n                if(validate.isValidEmail(event)===true){\n                    newSignUpData[event.target.name]=event.target.value;\n                    newSignUpData[\"emailValid\"]=true;\n\n                } else{\n                    console.log(\"Length of email: \", newSignUpData[event.target.name].length)\n                    newSignUpData[\"emailValid\"] = false\n                }\n            }\n\n            // USERNAME VALIDATION\n            if(event.target.name === \"username\"){\n                if(validate.isValidUsername(event)===true){\n                    newSignUpData[event.target.name] = event.target.value;\n                    // set username valid to true\n                    newSignUpData[\"usernameValid\"] = true;\n                }\n                else{\n                    newSignUpData[\"usernameValid\"] = false;\n                }\n            }\n\n            // PASSWORD VALIDATION\n            if(event.target.name === \"password\"){\n                if(validate.isValidPassword(event)===true){\n                    newSignUpData[event.target.name] = event.target.value;\n                    // set username valid to true\n                    newSignUpData[\"passwordValid\"] = true;\n                }\n                else{\n                    newSignUpData[\"passwordValid\"] = false;\n                }\n            }\n\n            // for all other things\n            newSignUpData[event.target.name] = event.target.value;\n            //console.log(newSignUpData);\n            setData(newSignUpData);\n            //return newSignUpData;  \n        },\n        generateSecretKey: () => {\n            let secret = (Math.random() + 1).toString(36).substring(2);\n            return secret\n        }\n    }\n    return handlerInp;\n    \n}\n\n\n\nmodule.exports = handlerapi;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}